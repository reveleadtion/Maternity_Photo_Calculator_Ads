<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maternity Photo Timing Calculator | Two Wild Souls Photography</title>

    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1484618222285119');
    fbq('track', 'PageView');
    </script>
    <noscript>
      <img height="1" width="1" style="display:none"
        src="https://www.facebook.com/tr?id=1484618222285119&ev=PageView&noscript=1"/>
    </noscript>
    <!-- End Meta Pixel Code -->

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background: #ffffff; color: #000000; line-height: 1.6; }
        .container { max-width: 1000px; margin: 40px auto 80px; padding: 0 20px; }
        .card { background: white; border: 1px solid #000000; padding: 60px; margin-top: 30px; }
        .form-group { margin-bottom: 35px; }
        .form-group label { display: block; font-family: 'Helvetica Neue', Arial, sans-serif; font-size: 14px; margin-bottom: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 1px; color: #000000; }
        .form-group input, .form-group select { width: 100%; padding: 16px; border: 1px solid #000000; font-size: 16px; font-family: 'Helvetica Neue', Arial, sans-serif; transition: all 0.3s; background: white; }
        .form-group input:focus { outline: none; border: 2px solid #000000; padding: 15px; }
        .form-group small { display: block; margin-top: 8px; color: #666666; font-size: 13px; font-weight: 300; }
        .radio-group { display: flex; gap: 20px; flex-wrap: wrap; }
        .radio-option { flex: 1; min-width: 220px; }
        .radio-option.radio-option--third { min-width: 140px; }
        .radio-option input { display: none; }
        .radio-label { display: block; padding: 16px 24px; border: 1px solid #000000; cursor: pointer; text-align: center; transition: all 0.2s ease; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px; background: white; color: #000000; }
        .radio-option input:checked + .radio-label { background: #000000; color: #ffffff; }
        .radio-label:hover { background: #f5f5f5; }
        .radio-option input:checked + .radio-label:hover { background: #000000; }
        .btn { width: 100%; padding: 18px; background: #000000; color: #ffffff; border: none; font-size: 14px; font-weight: 500; font-family: 'Helvetica Neue', Arial, sans-serif; cursor: pointer; margin-top: 20px; transition: all 0.3s; text-transform: uppercase; letter-spacing: 1.5px; }
        .btn:hover { background: #333333; }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .spinner { display: inline-block; width: 14px; height: 14px; border: 2px solid rgba(255,255,255,0.3); border-top-color: #ffffff; animation: spin 1s linear infinite; margin-left: 10px; vertical-align: middle; }
        @keyframes spin { to { transform: rotate(360deg); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
        .results { display: none; }
        .results.active { display: block; }
        .results-hero { background: #eceae6; color: #000000; padding: 35px 35px 30px; margin-bottom: 40px; border: 1px solid rgba(0,0,0,0.1); }
        .results.late .results-hero { border: 2px solid #c94b4b; background: #f5f5f5; }
        .hero-header { text-align: center; padding-bottom: 25px; margin-bottom: 25px; border-bottom: 1px solid rgba(0,0,0,0.1); }
        .hero-header h3 { font-family: 'Helvetica Neue', Arial, sans-serif; font-size: 15px; font-weight: 500; margin-bottom: 18px; text-transform: uppercase; letter-spacing: 2px; color: #000000; }
        .current-week-badge { font-size: 16px; font-weight: 500; margin: 12px 0 8px; padding: 10px 20px; background: rgba(0,0,0,0.08); display: inline-block; border: 1px solid rgba(0,0,0,0.15); color: #000000; text-transform: uppercase; letter-spacing: 1px; }
        .date-range-display { font-size: 22px; font-weight: 700; margin: 15px 0 8px; color: #000000; word-break: break-word; }
        .results.late .date-range-display { color: #c94b4b; font-size: 20px; }
        .weeks-range-display { font-size: 14px; opacity: 0.85; color: #000000; }
        .hero-info-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 25px; }
        .hero-info-item { text-align: center; padding: 18px 12px; background: rgba(255,255,255,0.5); border: 1px solid rgba(0,0,0,0.1); }
        .hero-info-item .icon { font-size: 28px; margin-bottom: 8px; display: block; }
        .hero-info-item h4 { font-family: 'Helvetica Neue', Arial, sans-serif; font-size: 9px; margin-bottom: 6px; text-transform: uppercase; letter-spacing: 1.2px; font-weight: 500; color: #666; }
        .hero-info-item .value { font-size: 16px; font-weight: 500; color: #000000; display: block; margin-bottom: 5px; }
        .hero-info-item .description { font-size: 11px; color: #666; line-height: 1.3; }
        .results.late .hero-info-item .value { color: #c94b4b; }
        .explanation { background: #f5f5f5; border-left: 3px solid #000000; padding: 40px; margin: 40px 0; }
        .explanation h4 { font-family: 'Helvetica Neue', Arial, sans-serif; font-size: 16px; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 1.5px; font-weight: 500; }
        .explanation ul { margin: 20px 0 20px 25px; font-size: 15px; line-height: 1.8; }
        .explanation li { margin-bottom: 12px; }
        .explanation p { font-size: 15px; line-height: 1.8; margin-bottom: 15px; }
        .cta-btn { display: inline-block; padding: 16px 40px; background: #000000; color: #ffffff; text-decoration: none; font-size: 13px; font-weight: 500; font-family: 'Helvetica Neue', Arial, sans-serif; margin: 15px; transition: all 0.3s; text-transform: uppercase; letter-spacing: 1.5px; border: none; }
        .cta-btn:hover { background: #333333; }
        .cta-block { padding: 50px 40px; }
        .cta-btn-group { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; align-items: center; }
        .cta-btn-group a { display: block; }

        /* Scarcity bar */
        .scarcity-bar { background: #1a1a1a; color: #fff; text-align: center; padding: 10px 16px; font-size: 12px; text-transform: uppercase; letter-spacing: 1.5px; font-weight: 500; animation: fadeIn 0.5s ease; }
        .scarcity-bar span { color: #e8c97a; font-weight: 700; }

        .footer { text-align: center; padding: 60px 20px; color: #666666; font-size: 13px; border-top: 1px solid #e5e5e5; margin-top: 60px; }
        .footer p { margin-bottom: 8px; }
        .footer a { color: #000000; text-decoration: none; font-weight: 500; border-bottom: 1px solid #000000; }
        .footer a:hover { border-bottom: 2px solid #000000; }

        @media (max-width: 768px) {
            .container { margin: 0; padding: 0; max-width: 100%; }
            .card { padding: 0; border: none; margin-top: 0; }
            #form-card { padding: 28px 16px 32px; border: none; }
            #form-card h2 { font-size: 18px !important; letter-spacing: 1.5px !important; margin-bottom: 32px !important; }
            .results-hero { padding: 24px 16px 20px; margin-bottom: 0; border-left: none; border-right: none; border-radius: 0; }
            .hero-header { padding-bottom: 18px; margin-bottom: 18px; }
            .hero-header h3 { font-size: 11px; letter-spacing: 1.5px; margin-bottom: 12px; }
            .current-week-badge { font-size: 13px; padding: 7px 14px; }
            .date-range-display { font-size: 17px; }
            .weeks-range-display { font-size: 12px; }
            .radio-group { flex-direction: column; gap: 10px; }
            .radio-option { min-width: 100%; }
            .radio-label { padding: 14px 16px; font-size: 13px; }
            .hero-info-grid { grid-template-columns: 1fr; gap: 8px; margin-top: 18px; }
            .hero-info-item { padding: 14px 16px; display: flex; align-items: center; gap: 14px; text-align: left; }
            .hero-info-item .icon { font-size: 26px; margin-bottom: 0; flex-shrink: 0; }
            .hero-info-item .item-text { flex: 1; min-width: 0; }
            .hero-info-item h4 { font-size: 9px; letter-spacing: 0.8px; margin-bottom: 2px; }
            .hero-info-item .value { font-size: 14px; margin-bottom: 2px; }
            .hero-info-item .description { font-size: 11px; }
            #combined-cta-section { margin-bottom: 0; }
            .cta-block { padding: 32px 20px !important; }
            .cta-block h4 { font-size: 16px !important; letter-spacing: 1px !important; overflow-wrap: break-word; word-break: break-word; }
            .cta-btn-group { flex-direction: column; align-items: center; gap: 10px; }
            .explanation { padding: 24px 16px; margin: 0; border-left: none; border-top: 3px solid #000; }
            .explanation h4 { font-size: 13px; margin-bottom: 14px; }
            .explanation p, .explanation li { font-size: 14px; }
            #results .card > div:last-child { padding: 24px 16px; margin: 0 !important; }
            .footer { padding: 36px 16px; margin-top: 0; }
        }

        @media (max-width: 480px) {
            #form-card { padding: 24px 14px 28px; }
            #form-card h2 { font-size: 16px !important; }
            .form-group { margin-bottom: 24px; }
            .form-group label { font-size: 12px; letter-spacing: 0.8px; }
            .form-group input { padding: 14px 12px; font-size: 16px; }
            .results-hero { padding: 20px 14px 16px; }
            .hero-header h3 { font-size: 10px; }
            .date-range-display { font-size: 15px; }
            .current-week-badge { font-size: 12px; padding: 6px 12px; }
            .btn { font-size: 13px; letter-spacing: 1px; padding: 16px; }
            .cta-block h4 { font-size: 14px !important; letter-spacing: 0.5px !important; }
            .explanation { padding: 20px 14px; }
            .footer { padding: 32px 14px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card" id="form-card">
            <h2 style="font-family: 'Helvetica Neue', Arial, sans-serif; text-align: center; font-size: 24px; margin-bottom: 50px; font-weight: 300; text-transform: uppercase; letter-spacing: 2px;">Find Your Best Maternity Photo Time</h2>
            <form id="calc-form">
                <div class="form-group">
                    <label for="due-date">What's your due date?</label>
                    <input type="date" id="due-date" required onclick="try{this.showPicker()}catch(e){}">
                </div>
                <div class="form-group">
                    <label>Is this your first baby?</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="first-yes" name="first-baby" value="yes" required>
                            <label for="first-yes" class="radio-label">Yes, first baby</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="first-no" name="first-baby" value="no">
                            <label for="first-no" class="radio-label">No, 2nd or later</label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="multiples" style="width: auto; margin-right: 12px; transform: scale(1.3);">
                        Expecting multiples (twins, triplets, etc.)
                    </label>
                </div>
                <div class="form-group">
                    <label>Preferred style</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="vibe-full" name="vibe" value="full" required>
                            <label for="vibe-full" class="radio-label">Full, dramatic bump</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="vibe-comfortable" name="vibe" value="comfortable">
                            <label for="vibe-comfortable" class="radio-label">Earlier & more comfortable</label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Session setting</label>
                    <div class="radio-group">
                        <div class="radio-option radio-option--third">
                            <input type="radio" id="setting-indoor" name="setting" value="indoor" required>
                            <label for="setting-indoor" class="radio-label">ğŸ  Indoor / Studio</label>
                        </div>
                        <div class="radio-option radio-option--third">
                            <input type="radio" id="setting-outdoor" name="setting" value="outdoor">
                            <label for="setting-outdoor" class="radio-label">ğŸŒ¿ Outdoor</label>
                        </div>
                        <div class="radio-option radio-option--third">
                            <input type="radio" id="setting-both" name="setting" value="both">
                            <label for="setting-both" class="radio-label">âœ¨ Both</label>
                        </div>
                    </div>
                    <small>Outdoor sessions are best earlier for comfort â€” indoor studio sessions allow more flexibility later in pregnancy</small>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="high-risk" style="width: auto; margin-right: 12px; transform: scale(1.3);">
                        High-risk pregnancy
                    </label>
                    <small style="margin-top: 8px; display: block;">We recommend scheduling earlier to ensure you're comfortable and have flexibility if plans change</small>
                </div>
                <button type="submit" class="btn" id="submit-btn">Calculate My Perfect Timing âœ¨</button>
            </form>
        </div>

        <div class="results" id="results">
            <div class="card">
                <!-- Scarcity bar injected here dynamically -->
                <div id="scarcity-bar-container"></div>

                <div class="results-hero">
                    <div class="hero-header">
                        <h3>Your Ideal Session Window</h3>
                        <div class="current-week-badge" id="current-week-badge">Week ??</div>
                        <div class="date-range-display" id="date-range"></div>
                        <p class="weeks-range-display" id="weeks-range"></p>
                    </div>
                    <div class="hero-info-grid">
                        <div class="hero-info-item">
                            <span class="icon">ğŸ“…</span>
                            <div class="item-text">
                                <h4>Book By</h4>
                                <span class="value" id="book-by"></span>
                                <p class="description">Most photographers need 4â€“8 weeks notice</p>
                            </div>
                        </div>
                        <div class="hero-info-item">
                            <span class="icon">â°</span>
                            <div class="item-text">
                                <h4>Your Status</h4>
                                <span class="value" id="current-week"></span>
                                <p class="description" id="status"></p>
                            </div>
                        </div>
                        <div class="hero-info-item">
                            <span class="icon">âœ¨</span>
                            <div class="item-text">
                                <h4>Backup Option</h4>
                                <span class="value" id="backup"></span>
                                <p class="description">If ideal timing doesn't work</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="combined-cta-section" style="margin-bottom: 40px;"></div>

                <div class="explanation" id="explanation"></div>

                <div style="text-align:center; margin:40px 0;">
                    <button class="btn" onclick="resetCalculator()" style="max-width:400px;">Calculate Again</button>
                </div>
            </div>

            <div class="footer">
                <p>Created with love by <a href="https://twowildsoulsphotography.com" target="_blank">Two Wild Souls Photography</a></p>
                <p style="margin-top: 10px;">Maternity & Newborn portraits in Rochester Hills â€¢ Metro Detroit</p>
                <p style="margin-top: 20px; font-size: 14px;">Â© 2026 Two Wild Souls Photography â€¢ All Rights Reserved</p>
            </div>
        </div>
    </div>

    <script>
        // â”€â”€â”€ Height messaging for iframe embeds â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function sendHeightToParent() {
            window.parent.postMessage({ calculatorHeight: document.body.scrollHeight }, '*');
        }
        window.addEventListener('load', sendHeightToParent);
        window.addEventListener('resize', sendHeightToParent);
        new MutationObserver(sendHeightToParent).observe(document.body, { childList: true, subtree: true, attributes: true });

        // â”€â”€â”€ Date bounds â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const dueDateInput = document.getElementById('due-date');
        const today = new Date();
        const minDate = new Date(today); minDate.setMonth(minDate.getMonth() - 2);
        const maxDate = new Date(today); maxDate.setMonth(maxDate.getMonth() + 9);
        dueDateInput.min = minDate.toISOString().split('T')[0];
        dueDateInput.max = maxDate.toISOString().split('T')[0];

        // â”€â”€â”€ Form submit â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const form = document.getElementById('calc-form');
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            calculate();
        });

        // â”€â”€â”€ Scarcity copy (contextual) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function getScarcityMessage(context) {
            // context: 'inWindow' | 'early' | 'late' | 'pastWindow'
            const messages = {
                inWindow:    'ğŸ”¥ We only take <span>6 maternity sessions per month</span> â€” your window is open now. Spots fill fast.',
                early:       'ğŸ“… We only take <span>6 maternity sessions per month</span> â€” booking early is the only way to guarantee your date.',
                pastWindow:  'âš¡ We only take <span>6 maternity sessions per month</span> â€” a few spots remain this month. Don\'t wait.',
                late:        'ğŸ’• We only take <span>6 newborn sessions per month</span> â€” reserve your spot before baby arrives.'
            };
            return messages[context] || messages.early;
        }

        // â”€â”€â”€ Main calculation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function calculate() {
            const dueDateStr = document.getElementById('due-date').value;
            if (!dueDateStr) return alert("Please enter your due date.");

            const dueDate    = new Date(dueDateStr);
            const isFirst    = document.querySelector('input[name="first-baby"]:checked')?.value === 'yes';
            const multiples  = document.getElementById('multiples').checked;
            const vibe       = document.querySelector('input[name="vibe"]:checked')?.value || 'full';
            const setting    = document.querySelector('input[name="setting"]:checked')?.value || 'both';
            const highRisk   = document.getElementById('high-risk').checked;

            const now            = new Date();
            const conceptionDate = new Date(dueDate.getTime() - 280 * 24 * 60 * 60 * 1000);
            const daysSinceLMP   = Math.floor((now - conceptionDate) / (1000 * 60 * 60 * 24));
            const currentWeek    = Math.max(1, Math.min(42, Math.ceil(daysSinceLMP / 7)));

            let startWeek, endWeek;
            if (multiples) {
                startWeek = 24; endWeek = 28;
            } else if (!isFirst) {
                startWeek = vibe === 'full' ? 28 : 26;
                endWeek   = vibe === 'full' ? 32 : 30;
            } else {
                startWeek = vibe === 'full' ? 30 : 28;
                endWeek   = vibe === 'full' ? 34 : 32;
            }

            if (!multiples) {
                if (setting === 'outdoor') { startWeek = Math.max(20, startWeek - 2); endWeek = Math.max(22, endWeek - 2); }
                else if (setting === 'indoor') { startWeek = Math.min(32, startWeek + 1); endWeek = Math.min(34, endWeek + 1); }
            }

            if (highRisk && !multiples) { startWeek = Math.max(20, startWeek - 2); endWeek = Math.max(22, endWeek - 2); }

            const isLate     = currentWeek > 34;
            const isInWindow = currentWeek >= startWeek && currentWeek <= endWeek;
            const isPastWindow = !isLate && currentWeek > endWeek;

            let startDate, endDate, bookBy;
            if (!isLate) {
                startDate = new Date(conceptionDate); startDate.setDate(startDate.getDate() + startWeek * 7);
                endDate   = new Date(conceptionDate); endDate.setDate(endDate.getDate() + endWeek * 7);
                bookBy    = new Date(startDate);      bookBy.setDate(bookBy.getDate() - 42);
            }

            const fmt = d => d.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });

            document.getElementById('current-week-badge').textContent = `You're at Week ${currentWeek}`;
            document.getElementById('current-week').textContent = `Week ${currentWeek}`;

            // â”€â”€ Determine scarcity context â”€â”€
            let scarcityContext = 'early';
            if (isLate)       scarcityContext = 'late';
            else if (isInWindow) scarcityContext = 'inWindow';
            else if (isPastWindow) scarcityContext = 'pastWindow';
            else              scarcityContext = 'early';

            // â”€â”€ Inject scarcity bar â”€â”€
            document.getElementById('scarcity-bar-container').innerHTML =
                `<div class="scarcity-bar">${getScarcityMessage(scarcityContext)}</div>`;

            if (isLate) {
                document.getElementById('date-range').innerHTML = `Maternity booking window has closed ğŸ’•`;
                document.getElementById('weeks-range').textContent = `You're at ${currentWeek} weeks â€” beyond our 34-week cutoff for maternity sessions`;
                document.getElementById('book-by').innerHTML = `<span style="color:#c94b4b;">Passed</span>`;
                document.getElementById('status').textContent = `Beyond our 34-week cutoff`;
                document.getElementById('backup').textContent = `Newborn portraits (first 5â€“14 days)`;
            } else {
                document.getElementById('date-range').textContent = `${fmt(startDate)} â€“ ${fmt(endDate)}`;
                document.getElementById('weeks-range').textContent = `${startWeek}â€“${endWeek} weeks`;
                const bookByPast = bookBy < now;
                document.getElementById('book-by').innerHTML = bookByPast
                    ? `<span style="color:#c94b4b;">Today â€” don't wait!</span>`
                    : fmt(bookBy);
                document.getElementById('status').textContent = isInWindow
                    ? `You're in the sweet spot!`
                    : (currentWeek < startWeek ? `Perfect time to book now` : `Still good â€” don't wait too long`);
                document.getElementById('backup').textContent = `${endWeek}â€“${Math.min(endWeek + 4, 36)} weeks (flexible backup)`;
            }

            // â”€â”€ Explanation â”€â”€
            const adjustmentNotes = [];
            if (setting === 'outdoor')  adjustmentNotes.push('outdoor sessions (shifted earlier for comfort)');
            if (setting === 'indoor')   adjustmentNotes.push('indoor/studio sessions (allows a bit more flexibility later)');
            if (highRisk)               adjustmentNotes.push('high-risk pregnancy (shifted earlier to build in flexibility)');
            if (multiples)              adjustmentNotes.push('multiple pregnancy (earlier window is standard)');

            let exp = `<h4>Your Personalized Timing</h4>
                       <p>Based on your details, your ideal window is <strong>weeks ${startWeek}â€“${endWeek}</strong>.`;
            if (adjustmentNotes.length > 0) exp += ` This has been adjusted for: ${adjustmentNotes.join(', ')}.`;
            exp += `</p>`;

            if (isLate) {
                exp += `<p><strong>Unfortunately our maternity booking window has closed</strong> â€” we are unable to accept maternity sessions beyond 34 weeks. But this chapter isn't over! Here are your best next steps:</p>
                        <ul>
                            <li><strong>Book a newborn session with us</strong> â€” the first 5â€“14 days are pure magic and we'd love to capture them</li>
                            <li>If maternity photos are important to you, a few photographers may still accept sessions up to 36â€“37 weeks â€” reach out quickly</li>
                            <li>Be open to last-minute dates and comfortable posed styles</li>
                        </ul>
                        <p style="margin-top:25px; font-size:18px; font-weight:600;">âœ¨ <strong>Newborn portraits</strong> in those first precious days are absolutely magical â€” and honestly, some of our most breathtaking work. We'd love to be there for it.</p>`;
            } else if (isInWindow) {
                exp += `<p>You're right in the <strong>ideal window</strong> â€” your bump is prominent and you're likely still feeling great. Book now to secure your dream date!</p>`;
            } else if (currentWeek < startWeek) {
                exp += `<p>You're approaching the perfect time â€” now is ideal for reaching out (most photographers need 4â€“8 weeks notice).</p>`;
            } else {
                exp += `<p>You're just past the main window but still in a beautiful range. Reach out soon to catch availability.</p>`;
            }
            document.getElementById('explanation').innerHTML = exp;

            // â”€â”€ CTA (all local â€” location removed) â”€â”€
            const footerNote = `<p style="margin-top: 25px; font-size: 12px; opacity: 0.7;">Professional hair & makeup â€¢ Designer gowns â€¢ Serving Rochester Hills & Metro Detroit</p>`;
            const combinedCTAEl = document.getElementById('combined-cta-section');
            let combinedCTA = '';

            if (isInWindow) {
                combinedCTA = `
                    <div class="cta-block" style="background:#000;color:#fff;border:2px solid #000;text-align:center;">
                        <h4 style="font-family:'Helvetica Neue',Arial,sans-serif;font-size:24px;margin-bottom:20px;text-transform:uppercase;letter-spacing:2px;font-weight:300;">You're in the Perfect Window!</h4>
                        <p style="margin-bottom:10px;font-size:16px;line-height:1.6;">Your bump is beautiful and you're likely still feeling great. This is the ideal time to book your maternity session.</p>
                        <p style="margin-bottom:30px;font-size:13px;opacity:0.8;letter-spacing:0.5px;">We only take 6 sessions per month â€” check availability before your dates are gone.</p>
                        <a href="https://twowildsoulsphotography.com/detroit-maternity-photographer-ads" class="cta-btn" target="_blank" onclick="trackBookingClick('in_window')" style="background:#fff;color:#000;display:inline-block;padding:18px 45px;text-decoration:none;font-size:14px;font-weight:600;font-family:'Helvetica Neue',Arial,sans-serif;text-transform:uppercase;letter-spacing:1.5px;margin:0;">Check Availability Now</a>
                        <p style="margin-top:25px;font-size:12px;opacity:0.7;">Professional hair & makeup â€¢ Designer gowns â€¢ 100% Love It Guarantee</p>
                    </div>`;
            } else if (isLate) {
                combinedCTA = `
                    <div class="cta-block" style="background:#c94b4b;color:#fff;border:3px solid #c94b4b;text-align:center;">
                        <h4 style="font-family:'Helvetica Neue',Arial,sans-serif;font-size:24px;margin-bottom:20px;text-transform:uppercase;letter-spacing:2px;font-weight:300;">We Can't Wait to Meet Baby!</h4>
                        <p style="margin-bottom:10px;font-size:16px;line-height:1.6;">At ${currentWeek} weeks, we're unable to book maternity sessions â€” but your newborn session is going to be absolutely magical.</p>
                        <p style="margin-bottom:30px;font-size:13px;opacity:0.9;letter-spacing:0.5px;">We only take 6 newborn sessions per month â€” reserve your spot before baby arrives.</p>
                        <a href="https://twowildsoulsphotography.com/detroit-maternity-photographer-ads" class="cta-btn" target="_blank" onclick="trackBookingClick('late_newborn')" style="background:#fff;color:#c94b4b;display:inline-block;padding:18px 45px;text-decoration:none;font-size:14px;font-weight:600;font-family:'Helvetica Neue',Arial,sans-serif;text-transform:uppercase;letter-spacing:1.5px;border:2px solid #fff;margin:0;">Reserve My Newborn Session</a>
                        <p style="margin-top:25px;font-size:12px;opacity:0.9;">Newborn sessions available in the first 5â€“14 days ğŸ’•</p>
                    </div>`;
            } else if (currentWeek < startWeek) {
                combinedCTA = `
                    <div class="cta-block" style="background:#000;color:#fff;text-align:center;">
                        <h4 style="font-family:'Helvetica Neue',Arial,sans-serif;font-size:22px;margin-bottom:20px;text-transform:uppercase;letter-spacing:2px;font-weight:300;">Secure Your Spot Early</h4>
                        <p style="margin-bottom:10px;font-size:15px;line-height:1.6;opacity:0.9;">Your ideal window is weeks ${startWeek}â€“${endWeek}. Reach out now and we'll hold your date.</p>
                        <p style="margin-bottom:30px;font-size:13px;opacity:0.7;letter-spacing:0.5px;">We only take 6 sessions per month â€” early birds get first pick of dates.</p>
                        <a href="https://twowildsoulsphotography.com/detroit-maternity-photographer-ads" class="cta-btn" target="_blank" onclick="trackBookingClick('early')" style="background:#fff;color:#000;display:inline-block;padding:18px 45px;text-decoration:none;font-size:14px;font-weight:600;font-family:'Helvetica Neue',Arial,sans-serif;text-transform:uppercase;letter-spacing:1.5px;margin:0;">Reserve Your Date</a>
                        ${footerNote}
                    </div>`;
            } else {
                combinedCTA = `
                    <div class="cta-block" style="background:#000;color:#fff;text-align:center;">
                        <h4 style="font-family:'Helvetica Neue',Arial,sans-serif;font-size:22px;margin-bottom:20px;text-transform:uppercase;letter-spacing:2px;font-weight:300;">Still in a Beautiful Range</h4>
                        <p style="margin-bottom:10px;font-size:15px;line-height:1.6;">You're just past the main window but timing is still great.</p>
                        <p style="margin-bottom:30px;font-size:13px;opacity:0.7;letter-spacing:0.5px;">We only take 6 sessions per month â€” don't let availability decide for you.</p>
                        <a href="https://twowildsoulsphotography.com/detroit-maternity-photographer-ads" class="cta-btn" target="_blank" onclick="trackBookingClick('past_window')" style="background:#fff;color:#000;display:inline-block;padding:18px 45px;text-decoration:none;font-size:14px;font-weight:600;font-family:'Helvetica Neue',Arial,sans-serif;text-transform:uppercase;letter-spacing:1.5px;margin:0;">Book Your Session</a>
                        ${footerNote}
                    </div>`;
            }

            combinedCTAEl.innerHTML = combinedCTA;

            // â”€â”€ Fire Pixel events â”€â”€
            fbq('track', 'ViewContent', {
                content_name: 'Calculator Result',
                content_category: scarcityContext,
                value: currentWeek,
                currency: 'USD'
            });

            // Show results
            document.getElementById('form-card').style.display = 'none';
            const resultsEl = document.getElementById('results');
            resultsEl.classList.add('active');
            if (isLate) resultsEl.classList.add('late');
            setTimeout(() => resultsEl.scrollIntoView({ behavior: 'smooth', block: 'start' }), 100);
            sendHeightToParent();
        }

        // â”€â”€ Booking link click tracking â”€â”€
        function trackBookingClick(context) {
            fbq('track', 'Lead', {
                content_name: 'Calculator Booking Click',
                content_category: context
            });
        }

        function resetCalculator() {
            document.getElementById('form-card').style.display = 'block';
            document.getElementById('results').classList.remove('active', 'late');
            document.getElementById('scarcity-bar-container').innerHTML = '';
            form.reset();
            setTimeout(() => document.getElementById('form-card').scrollIntoView({ behavior: 'smooth', block: 'start' }), 100);
        }
    </script>
</body>
</html>
